{% extends 'crud/base.html' %}

{% load static %}

{% block title %}Listado Productos{% endblock %}

{% block seccion_content %}
<div class="container mt-4  py-5 text-white bg-dark text-center">
    <h1>Listado Productos</h1>    
</div>
{% endblock %}
    
{% block content %}
    <div class="row">        
        <div class="table-responsive">
            <table class="table table-hover">
                <thead class="table-dark">
                    <td>ID</td>
                    <td>Descripci√≥n</td>
                    <td>Precio Unitario</td>
                    <td>Stock</td>
                    <td>Marca</td>
                    <td>Imagen</td>
                    <td>Opciones</td>
                </thead>
                <tbody>
                    {% for p in productos%}
                        <tr>
                            <td>
                                <a class="text-decoration-none" href="/crud/{{p.idProducto}}">{{p.idProducto}}</a>
                            </td>
                            <td>{{p.descripcion}}</td>
                            <td>{{p.precio}}</td>
                            <td>{{p.stock}}</td>
                            <td>{{p.marca}}</td>
                            {% if p.imagen %}
                                <td>
                                    <img class="img-producto" src="{{p.imagen.url}}" alt="{{p.idProducto}}">
                                </td>
                            {% else %}
                                <td>
                                    <img class="img-producto" src="{% static 'crud/img/image-not-found.png' %}" alt="Sin Imagen">
                                </td>
                            {% endif %}
                            <td>
                                <a class="btn btn-outline-warning" href="/crud/{{p.idProducto}}/update">
                                    <i class="fa-solid fa-pen"></i>
                                </a>
                                <a class="btn btn-outline-danger" href="/crud/{{p.idProducto}}/delete">
                                    <i class="fa-solid fa-trash-can"></i>
                                </a>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}